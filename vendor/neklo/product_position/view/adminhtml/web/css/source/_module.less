// /**
//  * NOTICE OF LICENSE
//  *
//  * This source file is subject to the NekloEULA that is bundled with this package in the file LICENSE.txt.
//  *
//  * Copyright (c) Neklo
//  */

//
//  Common
//  _____________________________________________

& when (@media-common = true) {
    @font-face {
        font-family: 'nd';
        font-weight: normal;
        font-style: normal;
        src: url('@{baseDir}Neklo_ProductPosition/fonts/nd.eot?p807cs');
        src: url('@{baseDir}Neklo_ProductPosition/fonts/nd.eot?p807cs#iefix') format('embedded-opentype'),
        url('@{baseDir}Neklo_ProductPosition/fonts/nd.ttf?p807cs') format('truetype'),
        url('@{baseDir}Neklo_ProductPosition/fonts/nd.woff?p807cs') format('woff'),
        url('@{baseDir}Neklo_ProductPosition/fonts/nd.svg?p807cs#nd') format('svg');
    }

    #neklo-sorter {
        min-height: 340px;
        overflow: auto;
        padding-bottom: 10px;

        & > button {
            width: 200px !important;
            display: block !important;
            margin: auto !important;
        }
    }

    .nd-icon {
        font-family: 'nd', serif !important;
        speak: none;
        font-style: normal;
        font-weight: normal;
        font-variant: normal;
        text-transform: none;
        line-height: 1;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    [draggable] {
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    .nd-left-brackets:before {
        content: '\f100';
    }

    .nd-right-arrow:before {
        content: '\ea3c';
    }

    .nd-right-brackets:before {
        content: '\f101';
    }

    .nd-left-arrow:before {
        content: '\ea40';
    }

    .nd-pin:before {
        content: '\e900';
    }

    .nd-page:before {
        content: '\ea7d';
    }

    .nd-list {
        list-style-type: none;
        font-size: 0;
        min-height: 300px;
        margin: auto !important;
        padding: 5px 0 !important;

        &__separator {
            display: inline-block;
            vertical-align: top;
            width: 100%;
            margin: 20px 0 15px;
            padding-left: 20px;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            font: bold 13px Arial,Helvetica,sans-serif;

            hr {
                margin: 0;
                padding: 0;
                border: 0;
                margin-top: 5px;
                height: 2px;
                background: #dedede;
            }
        }

        &__error {
            list-style-type: none;
            padding: 10px;
            border: #ea7601 solid 1px;
            background: #fff4e9;
            font-size: 12px;
        }

        &__item {
            position: relative;
            display: inline-block;
            vertical-align: top;
            margin: 0 0 20px 20px;
            cursor: move;

            * {
                -webkit-box-sizing: initial;
                -moz-box-sizing: initial;
                box-sizing: initial;
            }

            &.attached .nd-btn.action,
            &.disableLeft .nd-btn.action[btn='toBegin'],
            &.disableLeft .nd-btn.action[btn='toLeft'],
            &.disableRight .nd-btn.action[btn='toEnd'],
            &.disableRight .nd-btn.action[btn='toRight'] {
                color: #c3c3c3;
                background: #e9e9e9;
                cursor: default;
            }

            &.attached {
                .nd-btn.attached {
                    color: #fff;
                    display: block;
                    background-color: #ff7200;

                    .nd-icon {
                        -webkit-transform: rotateZ(45deg);
                        -moz-transform: rotateZ(45deg);
                        -ms-transform: rotateZ(45deg);
                        -o-transform: rotateZ(45deg);
                        transform: rotateZ(45deg);
                    }
                }

                .nd-card {
                    border-color: #ff7200;
                }
            }

            &.over {
                .nd-card {
                    opacity: .25;
                    -webkit-transform: scale(.8);
                    -moz-transform: scale(.8);
                    -ms-transform: scale(.8);
                    -o-transform: scale(.8);
                    transform: scale(.8);
                }
            }

            &:hover {
                z-index: 11;

                .nd-card-hover {
                    display: block;
                    top: -4px;
                    left: 0;
                }

                .nd-card {
                    visibility: hidden;
                }
            }
        }
    }

    .nd-card,.nd-card-hover {
        height: 100%;
        border: #939798 solid 1px;
        font-size: 12px;
    }

    .nd-card {
        -webkit-transition: -webkit-transform .2s ease-out;
        -moz-transition: -moz-transform .2s ease-out;
        -o-transition: -o-transform .2s ease-out;
        transition: -webkit-transform .2s ease-out;
        -moz-transition: transform .2s ease-out, -moz-transform .2s ease-out;
        transition: transform .2s ease-out, -webkit-transform .2s ease-out, -moz-transform .2s ease-out, -o-transform .2s ease-out;
    }

    .nd-card-hover {
        display: none;
        position: absolute;
        padding: 4px 4px 33px;
        border: #000 solid 1px;
        background: #fff;

        &:before {
            content: '';
            float: left;
            height: 100%;
        }

        .nd-btn.attached {
            display: block;
            margin: 4px 4px 0 0;
        }
    }

    .nd-box-img {
        position: relative;
        background: #fff;
        font-size: 0;
        text-align: center;
        overflow: hidden;

        &:after {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            content: '';
        }

        img {
            max-width: 100%;
            height: auto;
            padding: 1px;
        }
    }

    .nd-box-info {
        padding: 10px 10px 0 10px;

        &__item {
            padding: 0;
            margin: 0 0 7px;
            font: 13px/1.2 Arial,Helvetica,sans-serif;
            color: #1a1a1a;

            &.name {
                font-weight: bold;
                color: #686c75;
            }
        }
    }

    .nd-row-buttons {
        clear: both;
        position: relative;
        top: -4px;
        font-size: 0;
        text-align: center;
        white-space: nowrap;

        .nd-btn + .nd-btn {
            border-left: #cfd0d1 solid 1px;
        }

        .to-page-frm {
            display: none;
            position: absolute;
            border: 1px solid rgba(85,85,85,0.667);
            width: 100px;
            bottom: 0;
            right: 0;
            background: rgba(255,255,255,0.933);
        }

        .to-page-btn,
        .to-page-inp {
            display: block;
            width: 100%;
            position: relative;
            padding: 5px 0;
            margin: 0;
            border: 0;
        }

        .to-page-btn {
            border-top: 1px solid;
        }

        .to-page-inp {
            padding: 5px;
            width: -webkit-calc(100% - 10px);
            width: -moz-calc(100% - 10px);
            width: calc(100% - 10px);
        }
    }

    .nd-btn {
        display: inline-block;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        border: none;
        text-align: center;
        cursor: pointer;

        &.upload {
            padding: 10px 20px;
            border: #d3d3d3 solid 1px;
            background-image: -webkit-linear-gradient(90deg,#fbfbfb 0%,#f8f8f8 100%);
            background-image: -ms-linear-gradient(90deg,#fbfbfb 0%,#f8f8f8 100%);
            color: #1a1a1a;
            font: bold 12px/1.2 Arial,Helvetica,sans-serif;

            &:hover {
                border: #c6c6c6 solid 1px;
                background-image: -webkit-linear-gradient(90deg,#f0f0f0 0%,#f8f8f8 100%);
                background-image: -ms-linear-gradient(90deg,#f0f0f0 0%,#f8f8f8 100%);
            }
        }

        &.action {
            width: 41px;
            height: 33px;
            line-height: 37px;
            background: #e9e9e9;
            color: #000;
            font-size: 13px;

            &:hover {
                background: #000;
                color: #fff;

                .to-page-frm {
                    color: #000;
                }
            }

            .disabled {
                color: #cfd0d1;
                background: #e9e9e9;
                cursor: default;
            }
        }

        &.attached {
            display: none;
            position: absolute;
            width: 36px;
            height: 36px;
            line-height: 43px;
            top: 0;
            right: 0;
            background: #bfbfbf;
            color: #fff;
            font-size: 20px;
            z-index: 10;

            &:hover {
                background-color: #ff7200;
            }
        }
    }

    .nd-btn.attached .nd-icon {
        display: inline-block;
    }

    .neklo-product-position-tab .admin__collapsible-title > span:first-of-type:before {
        display: inline-block;
        width: 114px;
        height: 17px;
        margin-right: 10px;
        margin-bottom: -2px;
        background: url('@{baseDir}Neklo_ProductPosition/images/neklo.png');
        content: '';
    }

    .admin__scope-old {
        & > .nd-btn {
            display: block;
            margin: 5px auto 0 auto;
            width: 349px;
        }
    }
}
